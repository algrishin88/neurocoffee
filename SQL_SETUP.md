# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **SQLite** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞–º **–Ω–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–∏–∫–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**!

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Database (SQLite - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏!)
DATABASE_URL="file:./dev.db"

# Server
PORT=3000

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# YandexGPT API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
YANDEX_API_KEY=your-yandex-api-key
YANDEX_FOLDER_ID=your-folder-id

# Environment
NODE_ENV=development
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
npm run init-db
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (`dev.db`)
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –ó–∞–ø–æ–ª–Ω–∏—Ç –º–µ–Ω—é —Ç–æ–≤–∞—Ä–∞–º–∏

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

–ì–æ—Ç–æ–≤–æ! üéâ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ SQLite

- ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ **–§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** - `dev.db` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ—Å—Ç–æ** - –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **–õ–µ–≥–∫–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å** - –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `dev.db`

## –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö

### Prisma Studio (–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä)

```bash
npm run prisma:studio
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

### SQLite Browser

–°–∫–∞—á–∞–π—Ç–µ SQLite Browser: https://sqlitebrowser.org/
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `dev.db` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

## –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º—ã:

```bash
npm run prisma:migrate
```

## –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL –∏–ª–∏ MySQL

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –∏–ª–∏ MySQL:

### 1. –ò–∑–º–µ–Ω–∏—Ç–µ `prisma/schema.prisma`:

```prisma
datasource db {
  provider = "postgresql"  // –∏–ª–∏ "mysql"
  url      = env("DATABASE_URL")
}
```

### 2. –û–±–Ω–æ–≤–∏—Ç–µ `.env`:

```env
# PostgreSQL
DATABASE_URL="postgresql://user:password@localhost:5432/neirocafe?schema=public"

# –ò–ª–∏ MySQL
DATABASE_URL="mysql://user:password@localhost:3306/neirocafe"
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
npm run prisma:migrate
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–∞–±–ª–∏—Ü—ã:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `carts` - –∫–æ—Ä–∑–∏–Ω—ã
- `cart_items` - —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
- `orders` - –∑–∞–∫–∞–∑—ã
- `order_items` - —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ
- `bookings` - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `contacts` - —Å–æ–æ–±—â–µ–Ω–∏—è
- `menu_items` - —Ç–æ–≤–∞—Ä—ã –º–µ–Ω—é
- `menu_item_sizes` - —Ä–∞–∑–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤

## –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - —ç—Ç–æ –æ–¥–∏–Ω —Ñ–∞–π–ª `dev.db`. –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –¥–ª—è –±—ç–∫–∞–ø–∞!

```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é
cp dev.db dev.db.backup

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
cp dev.db.backup dev.db
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Can't reach database server"

**–î–ª—è SQLite:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç:
```env
DATABASE_URL="file:./dev.db"
```

**–î–ª—è PostgreSQL/MySQL:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω.

### –û—à–∏–±–∫–∞: "Migration failed"

```bash
# –£–¥–∞–ª–∏—Ç–µ –±–∞–∑—É –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ
rm dev.db
npm run init-db
```

### –û—à–∏–±–∫–∞: "Schema validation error"

```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ Prisma Client
npm run prisma:generate
```

---

**SQLite –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!** üöÄ

